<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>SICPJS 2. Building Abstractions with Data</title>
  
  <link rel="canonical" href="https://randr44.github.io/2022/07/25/SICPJS-2-Building-Abstractions-with-Data/">
  
  <meta name="description" content="VocabularyQuestionsNotes Compound data: just like compound function, we enhance our expressive power of our language. And elevate the conceptual level">
  
  
  <meta name="author" content="Koh Hom">
  
  <meta property="og:image" content="https://randr44.github.ioundefined">
  
  <meta property="og:site_name" content="Richard&#39;s Blog" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="SICPJS 2. Building Abstractions with Data" />
  
  <meta property="og:description" content="VocabularyQuestionsNotes Compound data: just like compound function, we enhance our expressive power of our language. And elevate the conceptual level">
  
  <meta property="og:url" content="https://randr44.github.io/2022/07/25/SICPJS-2-Building-Abstractions-with-Data/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SICPJS 2. Building Abstractions with Data">
  
  <meta name="twitter:description" content="VocabularyQuestionsNotes Compound data: just like compound function, we enhance our expressive power of our language. And elevate the conceptual level">
  
  
  <meta name="twitter:image" content="https://randr44.github.ioundefined">
  
  <meta name="twitter:url" content="https://randr44.github.io/2022/07/25/SICPJS-2-Building-Abstractions-with-Data/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi Folks.
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/Works" class="ml">Works</a>
          
        
          
          <a href="/About" class="ml">About</a>
          
        
        
          
            <a href="mailto:xff9924@gmail.com" target="_blank" class="ml">Email</a>
          
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>SICPJS 2. Building Abstractions with Data</h2>

  <h2 id="Vocabulary"><a href="#Vocabulary" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>Compound data: just like compound function, we enhance our expressive power of our language. And elevate the conceptual level at which we can design our programs.</li>
<li>Glue data together: compound data glue data together to reduce the complexity of system.</li>
<li>Data abstraction: modularity data can separate the part of function to deal with data and the part to deal with how the data be repesented.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// repesent, and deal with rational number</span></span><br><span class="line"><span class="comment">// if don&#x27;t have compound data</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a_numerator = <span class="number">1</span></span><br><span class="line"><span class="keyword">const</span> a_denominator = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b_numerator = <span class="number">1</span></span><br><span class="line"><span class="keyword">const</span> b_denominator = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// there&#x27;s no way you can handle these two rational number without care</span></span><br><span class="line"><span class="comment">// about how they be repesented.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// compound data</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">  <span class="attr">numerator</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">denominator</span>: <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = &#123;</span><br><span class="line">  <span class="attr">numerator</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">denominator</span>: <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">numerator</span>: a.<span class="property">numerator</span> + b.<span class="property">numerator</span>,</span><br><span class="line">    <span class="attr">denominator</span>: a.<span class="property">denominator</span> + b.<span class="property">denominator</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add_and_multi</span>(<span class="params">a, b</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">multi</span>(a, <span class="title function_">add</span>(a, b))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// we don&#x27;t need to care about how a, b repesent data,</span></span><br><span class="line"><span class="comment">// we just abstract how add() and multi() process a, b</span></span><br></pre></td></tr></table></figure>

<h1 id="2-1-Introduction-to-Data-Abstraction"><a href="#2-1-Introduction-to-Data-Abstraction" class="headerlink" title="2.1  Introduction to Data Abstraction"></a>2.1  Introduction to Data Abstraction</h1><h2 id="Vocabulary-1"><a href="#Vocabulary-1" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>Data abstraction: compare to function abstraction, data abstraction hide the detail of how to compound it and expose what is</li>
</ul>
<h2 id="Questions-1"><a href="#Questions-1" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-1"><a href="#Notes-1" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>The basic idea of data abstraction is to structure the programs that are to use compound data objects so that they operate on â€œabstract data.â€ That is, our programs should use data in such a way as to make <strong>no assumptions</strong> about the data that are not strictly necessary for performing the task at hand.</li>
</ul>
<h1 id="2-1-1-Example-Arithmetic-Operations-for-Rational-Numbers"><a href="#2-1-1-Example-Arithmetic-Operations-for-Rational-Numbers" class="headerlink" title="2.1.1   Example: Arithmetic Operations for Rational Numbers"></a>2.1.1   Example: Arithmetic Operations for Rational Numbers</h1><h2 id="Vocabulary-2"><a href="#Vocabulary-2" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-2"><a href="#Questions-2" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-2"><a href="#Notes-2" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>Wishful thinking: assuming something that we have even we not yet implement them, then build something upon them.</li>
<li>The step of abstract the arithmetic operations of rational:<ul>
<li>We operate base on data abstraction, so we first hide the detail of data abstraction(wishful thinking)</li>
<li>We assume that we can construct a rational number, and can extracting its numerator and denominator.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">make_rati</span>(<span class="params">n, d</span>) <span class="comment">// make rational number which equal n / d</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">numer</span>(<span class="params">r</span>) <span class="comment">// extract rational number&#x27;s numerator</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">denom</span>(<span class="params">r</span>) <span class="comment">// extract rational number&#x27;s denominator</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">make_rati</span>((<span class="title function_">numer</span>(a) * <span class="title function_">denom</span>(b) + <span class="title function_">numer</span>(b) * <span class="title function_">denom</span>(a)) / <span class="title function_">denom</span>(a) * <span class="title function_">denom</span>(b))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<ul>
<li>use pair to implement the assuming functions make_rati, numer, denom.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">pair</span>(<span class="params">head, tail</span>) <span class="comment">// construct a pair with head and tail</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">head</span>(<span class="params">pair</span>) <span class="comment">// return pair&#x27;s head</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tail</span>(<span class="params">pair</span>) <span class="comment">// return pair&#x27;s tail</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">make_rati</span>(<span class="params">n, d</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> m = <span class="title function_">gcd</span>(n, d)</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(n / m, d / m)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">numer</span>(<span class="params">rati</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">head</span>(rati)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">denom</span>(<span class="params">rati</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">tail</span>(rati)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.1<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// handle positive and negative, we only change make_rati</span></span><br><span class="line"><span class="comment">// since it is the only function that modify/create pair</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">make_rati</span>(<span class="params">n, d</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> m = <span class="title function_">gcd</span>(n, d)</span><br><span class="line">  <span class="keyword">if</span>(n * d &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">pair</span>(n / m, d / m)</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span>(n * d &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">pair</span>(n / m, d / m)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">pair</span>(n / m, -d / m)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// &#x27;d is zero needs handle&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// if don&#x27;t use * to judge, can make some helper function</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">make_rati</span>(<span class="params">n, d</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> m = <span class="title function_">gcd</span>(n, d)</span><br><span class="line">  <span class="comment">// abstract n and d, only use the sign to compute</span></span><br><span class="line">  <span class="comment">// think about is it necessary to use n and d directly</span></span><br><span class="line">  <span class="comment">// or we can extract the essence to compute</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">sign</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x &lt; <span class="number">0</span></span><br><span class="line">           ? -<span class="number">1</span></span><br><span class="line">           : x &gt; <span class="number">0</span></span><br><span class="line">           ? <span class="number">1</span></span><br><span class="line">           : <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">abs</span>(<span class="params">x</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> x &lt; <span class="number">0</span></span><br><span class="line">            ? -x</span><br><span class="line">            : x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(<span class="title function_">sign</span>(n) * <span class="title function_">sign</span>(d) * <span class="title function_">abs</span>(n / m), <span class="title function_">abs</span>(d / m))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="2-1-2-Abstraction-Barriers"><a href="#2-1-2-Abstraction-Barriers" class="headerlink" title="2.1.2   Abstraction Barriers"></a>2.1.2   Abstraction Barriers</h1><h2 id="Vocabulary-3"><a href="#Vocabulary-3" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-3"><a href="#Questions-3" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-3"><a href="#Notes-3" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li><p>In general, the underlying idea of data abstraction is to identify for each type of data object a basic set of operations in terms of which all manipulations of data objects of that type will be expressed, and then to use only those operations in manipulating the data.</p>
<img alt="Abstraction Barriers" src="/img/sicpjs/abstractionbarriers.png">
The horizontal lines represent _abstraction barriers_ that isolate different "levels" of the system. The barriers will hide the implement details below it. All complex data can be repesent by some ways using primitive data. How to repesent data influnences the programs that operate it. But if we only modify the implementation that will not affect the programs build upon it. The data-abstraction methodology gives us a way to defer that decision without losing the ability to make progress on the rest of the system. (For example, fe no need to wait until the be api finished, fe can start develop whenever the api document(interface) is given).
</li>
<li><p>Exercise 2.2</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// from top to bottom, using data-abstraction barriers to construct the system</span></span><br><span class="line"><span class="comment">// for calculate midpoint of segment, we need make_segment</span></span><br><span class="line"><span class="comment">// and extract start_segment and end_segement</span></span><br><span class="line"><span class="comment">// use interface to abstract</span></span><br><span class="line">interface segment &#123;</span><br><span class="line">  <span class="attr">make_segment</span>: <span class="function">(<span class="params">start, end</span>) =&gt;</span> segment</span><br><span class="line">  <span class="attr">start_segment</span>: <span class="function">(<span class="params">segment</span>) =&gt;</span> point</span><br><span class="line">  <span class="attr">end_segment</span>: <span class="function">(<span class="params">segment</span>) =&gt;</span> point</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">midpoint_segment</span>(<span class="params">segment</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">avg_point</span>(start_segment, end_segment)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">make_segment</span>(<span class="params">start, end</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(start, end)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">start_segment</span>(<span class="params">segment</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">head</span>(segment)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">end_segment</span>(<span class="params">segment</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">tail</span>(segment)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface point &#123;</span><br><span class="line">  <span class="attr">make_point</span>: <span class="function">(<span class="params">x, y</span>) =&gt;</span> point</span><br><span class="line">  <span class="attr">x_point</span>: <span class="function">(<span class="params">point</span>) =&gt;</span> a</span><br><span class="line">  <span class="attr">y_point</span>: <span class="function">(<span class="params">point</span>) =&gt;</span> b</span><br><span class="line">  <span class="attr">avg_point</span>: <span class="function">(<span class="params">start, end</span>) =&gt;</span> point</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">make_point</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(x, y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">x_point</span>(<span class="params">point</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">head</span>(point)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">y_point</span>(<span class="params">point</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">tail</span>(point)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// avg use point abstraction</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">avg_point</span>(<span class="params">start, end</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">make_point</span>((<span class="title function_">x_point</span>(start) + <span class="title function_">x_point</span>(end)) / <span class="number">2</span>, (<span class="title function_">y_point</span>(start) + <span class="title function_">y_point</span>(end)) / <span class="number">2</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.3</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">interface &#123;</span><br><span class="line">  <span class="attr">distence_segment</span>: <span class="function">(<span class="params">a, b</span>) =&gt;</span> distence</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">make_rectange</span>(<span class="params">a, b, c, d</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> a_b = <span class="title function_">pair</span>(a, b)</span><br><span class="line">  <span class="keyword">const</span> c_d = <span class="title function_">pair</span>(c, d)</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(a_b, c_d)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a_rectange</span>(<span class="params">r</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">head</span>(<span class="title function_">head</span>(r))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">get_w_and_h</span>(<span class="params">r</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> a_to_b = <span class="title function_">distence_segment</span>(<span class="title function_">a_rectange</span>(r), <span class="title function_">b_rectange</span>(r))</span><br><span class="line">  <span class="keyword">const</span> a_to_c = <span class="title function_">distence_segment</span>(<span class="title function_">a_rectange</span>(r), <span class="title function_">c_rectange</span>(r))</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(a_to_b,a_to_c)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">perimeter</span>(<span class="params">r</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> w_h = <span class="title function_">get_w_and_h</span>(r)</span><br><span class="line">  <span class="keyword">return</span> (<span class="title function_">head</span>(w_h) + <span class="title function_">head</span>(w_h)) * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">area</span>(<span class="params">r</span>) &#123;</span><br><span class="line"> <span class="keyword">const</span> w_h = <span class="title function_">get_w_and_h</span>(r)</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">head</span>(w_h) * <span class="title function_">head</span>(w_h)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">get_w_and_h</span>(<span class="params">r</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> a_to_b = <span class="title function_">distence_segment</span>(<span class="title function_">a_rectange</span>(r), <span class="title function_">b_rectange</span>(r))</span><br><span class="line">  <span class="keyword">const</span> a_to_c = <span class="title function_">distence_segment</span>(<span class="title function_">a_rectange</span>(r), <span class="title function_">c_rectange</span>(r))</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(a_to_b,a_to_c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-1-3-What-Is-Meant-by-Data"><a href="#2-1-3-What-Is-Meant-by-Data" class="headerlink" title="2.1.3   What Is Meant by Data?"></a>2.1.3   What Is Meant by Data?</h1><h2 id="Vocabulary-4"><a href="#Vocabulary-4" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><ul>
<li>Data: as defined by some collection of selectors and constructors, together with specified conditions that these functions must fulfill in order to be a valid representation.</li>
</ul>
<h2 id="Questions-4"><a href="#Questions-4" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-4"><a href="#Notes-4" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>If one can obey the rules and implement the selectors and onstructors, it can use as the data. It should not matter how it implement.</li>
<li>Message passing: use function represent data, and pass a message to get specify return.</li>
<li>message passing pair</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fulfill: z = pair(x, y) head(z) = x tail(z) = y</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pair</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">dispatch</span>(<span class="params">m</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> m === <span class="number">0</span></span><br><span class="line">           ? x</span><br><span class="line">           : y</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dispatch</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">head</span>(<span class="params">z</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">z</span>(<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tail</span>(<span class="params">z</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">z</span>(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªè¦æ»¡è¶³è§„åˆ™å°±å¯ä»¥ä»£è¡¨æ•°æ®ï¼ŒèƒŒåæ˜¯ä¸æ˜¯çœŸçš„æ˜¯ä¸€ä¸ªå­˜å‚¨çš„å˜é‡å·²ç»ä¸é‡è¦äº†ï¼Œpair(x, z) è¿”å›ï¼ˆç”Ÿæˆï¼‰</span></span><br><span class="line"><span class="comment">// äº†ä¸€ä¸ªè§„åˆ™å¯ä»¥è¿”å›xå’Œy</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.4</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">tail</span>(<span class="params">z</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">z</span>(<span class="function">(<span class="params">x, y</span>) =&gt;</span> y)</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.5</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">pair</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">fast_expt</span>(<span class="number">2</span>, a) + <span class="title function_">fast_expt</span>(<span class="number">3</span>, b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">head</span>(<span class="params">p</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> p % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">         ? <span class="title function_">head</span>(p / <span class="number">2</span>) + <span class="number">1</span></span><br><span class="line">         : <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tail</span>(<span class="params">p</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> p % <span class="number">3</span> === <span class="number">0</span></span><br><span class="line">         ? <span class="title function_">tail</span>(p / <span class="number">3</span>) + <span class="number">1</span></span><br><span class="line">         : <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.6</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">zero</span> = f =&gt; <span class="function"><span class="params">x</span> =&gt;</span> x</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add_1</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">f</span> =&gt;</span> <span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">f</span>(<span class="title function_">n</span>(f)(x))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// add_1(zero)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">one</span> = f =&gt; <span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">f</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">two</span> = f =&gt; <span class="function"><span class="params">x</span> =&gt;</span> <span class="title function_">f</span>(<span class="title function_">f</span>(x))</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">plus</span>(<span class="params">p, q</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">f</span> =&gt;</span> <span class="function"><span class="params">x</span> =&gt;</span> (<span class="title function_">p</span>(f)(<span class="title function_">q</span>(f)(x)))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-1-4-Extended-Exercise-Interval-Arithmetic"><a href="#2-1-4-Extended-Exercise-Interval-Arithmetic" class="headerlink" title="2.1.4   Extended Exercise: Interval Arithmetic"></a>2.1.4   Extended Exercise: Interval Arithmetic</h1><h2 id="Vocabulary-5"><a href="#Vocabulary-5" class="headerlink" title="Vocabulary"></a>Vocabulary</h2><h2 id="Questions-5"><a href="#Questions-5" class="headerlink" title="Questions"></a>Questions</h2><h2 id="Notes-5"><a href="#Notes-5" class="headerlink" title="Notes"></a>Notes</h2><ul>
<li>Exercise 2.7</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">make_interval</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">pair</span>(x, y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">upper_bound</span>(<span class="params">i</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">tail</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">lower_bound</span>(<span class="params">i</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">head</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.8</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sub_interval</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">add_interval</span>(x, <span class="title function_">make_interval</span>(<span class="title function_">lower_bound</span>(y),<span class="title function_">upper_bound</span>(y)))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.9</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// proof: width A + width B = width C, where C is A + B (interval)</span></span><br><span class="line"><span class="comment">// A + B = C =&gt; upper(A) + upper(B) = upper(C), lower(A) + lower(B) = lower(C)</span></span><br><span class="line"><span class="comment">// width A + width B  = (upper(A) - lower(A)) / 2 + (upper(B) - lower(B)) / 2 </span></span><br><span class="line"><span class="comment">// = (upper(A) + upper(B) - (lower(A) + lower(B))) / 2 = (upper(C) - lower(C)) / 2 </span></span><br><span class="line"><span class="comment">// = C</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] * [<span class="number">1</span>, <span class="number">2</span>] = [<span class="number">1</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.10</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">div_interval</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">lower_bound</span>(y) &lt;= <span class="number">0</span> &amp;&amp; <span class="title function_">upper_bound</span>(y) &gt;= <span class="number">0</span></span><br><span class="line">         ? <span class="title function_">signal</span>(<span class="string">&#x27;x can&#x27;</span>t be zero<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">         : mul_interval(x, make_interval(lower(y),upper(y)))</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.11</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mul_interval</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="title function_">lower_bound</span>(x) &lt;= <span class="number">0</span> &amp;&amp; <span class="title function_">lower_bound</span>(y) &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_">upper_bound</span>(x) &gt;= <span class="number">0</span> &amp;&amp; <span class="title function_">upper_bound</span>(y) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> p1 = <span class="title function_">upper_bound</span>(x) * <span class="title function_">upper_bound</span>(y)</span><br><span class="line">      <span class="keyword">const</span> p2 = <span class="title function_">lower_bound</span>(x) * <span class="title function_">lower_bound</span>(y)</span><br><span class="line">      <span class="keyword">const</span> p3 = <span class="title function_">upper_bound</span>(x) * <span class="title function_">lower_bound</span>(y)</span><br><span class="line">      <span class="keyword">const</span> p4 = <span class="title function_">upper_bound</span>(y) * <span class="title function_">lower_bound</span>(x)</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">make_interval</span>(<span class="title function_">math_min</span>(p1, p2, p3, p4),</span><br><span class="line">                         <span class="title function_">math_max</span>(p1, p2, p3, p4))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">make_interval</span>(<span class="title function_">upper_bound</span>(x) * <span class="title function_">upper_bound</span>(y),</span><br><span class="line">                         <span class="title function_">lower_bound</span>(x) * <span class="title function_">lower_bound</span>(y))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">make_interval</span>(<span class="title function_">lower_bound</span>(x) * <span class="title function_">lower_bound</span>(y),</span><br><span class="line">                         <span class="title function_">upper_bound</span>(x) * <span class="title function_">upper_bound</span>(y))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.12</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">make_center_percent</span>(<span class="params">c, p</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">make_interval</span>(c * (<span class="number">1</span> - p), c * (<span class="number">1</span> + p))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">center</span>(<span class="params">i</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="title function_">lower_bound</span>(i) + <span class="title function_">upper_bound</span>(i)) / <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">percent</span>(<span class="params">i</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> ((<span class="title function_">upper_bound</span>(i) - <span class="title function_">lower_bound</span>(i)) / <span class="number">2</span>) / <span class="title function_">center</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Exercise 2.13</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a * b -&gt; pa * pb</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mul_interval</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">make_center_percent</span>(<span class="title function_">center</span>(x) * <span class="title function_">center</span>(y), <span class="title function_">percent</span>(x) * <span class="title function_">percent</span>(y))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If we only see two endpoints, some problems will become harder to solve. But if we change aspect to see data, it will be come eaiser.</p>

<div id="gitalk-container"></div>
<script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

		<script>
		var gitalkConfig = {"clientID":"00d11cdc8226f273b700","clientSecret":"57f31810d3530079f29b3327f47e445f19f5efeb","repo":"gitalk","owner":"clean99","admin":["clean99"],"distractionFreeMode":false};
	    gitalkConfig.id = md5(location.pathname);
		var gitalk = new Gitalk(gitalkConfig);
	    gitalk.render("gitalk-container");
	    </script>
  <p><a class="classtest-link" href="/tags/sicpjs/" rel="tag">sicpjs</a> â€” July 25, 2022</p>
  


          <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noreferrer">Earth</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/clean99" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://www.linkedin.com/in/rlandrews44" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="LinkedIn">
        <svg class="linkedin svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      </a>   
    </div>
  
</div>

        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>